<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<title></title>
		<style>
			body{
				background-color: #3e3e3eaa;
				color: #cfcfcf;
			}
			table{
				margin-bottom: 30px;
			}
			table, th, td {
			   border: 1px solid black;
			   border-spacing: 0px;
			   border-collapse: collapse;
			   text-align: center;
			}
			thead{
				width: 99vw;
			}
			.toolbar{
				position: fixed;
				bottom: 0px;
				width: 100%;
				height: 30px;
				text-align: center;
				background: #3e3e3e99;
			}
			.toolbar input{
				height: 30px;
				margin-left: 10px;
				color: aliceblue;
				background-color: #5f97a5;
				border: 0px;
			}
			#pageLoadTip{
				display: none;
				top:0px;
				z-index:999999;
				background-color:rgb(57 51 51 / 31%);
				height:99vh;
				width:99vw;
				position:fixed;
				text-align: center;
			}
			#pageLoadTip  .pltc{
				    background-color: #3e3e3e3e;
					color:rgb(255 255 255 / 88%);
					font-size:16px;
					margin-top:40vh;
				}
		.loading{
			width: 100%;            
			height: 15px;            
			margin: 0 auto;            
			margin-top:10px;        
		}        
		.loading span{            
			display: inline-block;            
			width: 15px;            
			height: 15px;            
			margin-right: 5px;            
			border-radius: 50%;            
			background: lightgreen;            
			-webkit-animation: load 1.04s ease infinite;        
		}        
		.loading span:last-child{            
			margin-right: 0px;
		}
	  
	  .qq img{
		 width: 20px;
		 padding: 0px;
	   }
		@-webkit-keyframes load{            0%{                opacity: 1;            }            100%{                opacity: 0;            }        }        .loading span:nth-child(1){            -webkit-animation-delay:0.13s;        }        .loading span:nth-child(2){            -webkit-animation-delay:0.26s;        }        .loading span:nth-child(3){            -webkit-animation-delay:0.39s;        }        .loading span:nth-child(4){            -webkit-animation-delay:0.52s;        }        .loading span:nth-child(5){            -webkit-animation-delay:0.65s;        }	
	
		</style>
		<script src="https://hm.baidu.com/hm.js?85dc79932b8a1676bc10088026fc2add"></script>
		<script>
			var now=new Date();
			document.location.href="/details.html?md=gcam&t="+now.getTime();
			document.write('<script src="res/js/gcam/patch.js?t='+now.getTime()+'"><\/script>');
		</script>
		<script>
			
			if(typeof "".replaceAll !="function"){
				String.prototype.replaceAll = function(s1, s2) {
				    return this.replace(new RegExp(s1, "gm"), s2);
				}
			}
			function pageLoadTip(msg){
				try{
				document.getElementById("pageLoadTip").style.display="block";
				document.getElementById("ptMsg").innerHTML=msg||'正在导入,请稍后。。。';
				document.body.style["overflow"]="hidden";
				}catch(e){
					console.log("xxxxxx:"+e.message);
				}
			}
			
			function pageLoadTipHide(){
				document.getElementById("pageLoadTip").style.display="none";
				document.body.style["overflow"]="auto";
			}
			var tempTr=`<tr onclick="rowClick(this)">
					<td nowrap>{no}<input type='checkbox' name='ck' data='{url}'></td>
					<td nowrap>{name}</td>
					<td nowrap>{zz}</td>
					<td>{note}</td>
				</tr>`
			function rowClick(self){
				var nCks=self.getElementsByTagName("input");
				if(nCks.length>0){
					if(event && event.target==nCks[0])return ;
					nCks[0].checked=!nCks[0].checked;
				}
			}
			function toClose(self){
				if(typeof AZ=="object"){
					AZ.close();
				}
			}
			function addPatch(self){
					pageLoadTip(null);
					self.disabled="disabled"
					setTimeout(() => {
							 try{
								var ckData=[];
								var cks=document.getElementsByName("ck");
								for(var i=0;i<cks.length;i++){
									var tmpck=cks[i];
									if(tmpck.checked){
										ckData.push(tmpck.getAttribute("data"));
									}
								}
								if(ckData.length>0){
									if(typeof AZ=="object"){
										AZ.addPatch(ckData);
									}
								}
								self.disabled="";
							 }catch(e){
								self.disabled="";
								pageLoadTipHide();
							 }
					}, 50);
			}
			function openApp(uid) {
				if(uid){
					var startTime = Date.now();
					var ifr = document.createElement('iframe');
					ifr.src = 'coolmarket://www.coolapk.com/u/'+uid;
					ifr.style.display = 'none';
					document.body.appendChild(ifr);
					var time = setTimeout(function() {
						document.body.removeChild(ifr);
						var endTime = Date.now();
						if ((!startTime || endTime - startTime < 2040) && device.indexOf('micromessenger') <= 0) {
							showDialog('dialog1');
						}
					}, 1000);
							
					window.onblur = function() {
						clearTimeout(time);//清楚定时器
					}
				}
			}
		</script>
	</head>
	<body onload="initX()">
		<div id='pageLoadTip'>
			<div class="pltc">
				<span id="ptMsg">正则添加配置   请稍后。。。</span>
				<div class="loading"><span></span><span></span><span></span><span></span><span></span><span></span></div>
			</div>
		</div>
		<div class="toolbar">
			<input type="button"  value="添加" onclick="addPatch(this)" >
			<input type="button"  value="关闭" onclick="toClose(this)" >
			<input type="button" style="display: none;" id='updateBtn'  value="有新版本点击查看" onclick="toUpdate()" >
		</div>
		<table border="1">
			<thead>
				<th style="text-align: left;font-size: 12px;" colspan="4" nowrap>
					<span id='lastUpdate' style="padding-right: 7px;color: #ff0000;">最近更新:2024-01-02 16:53:18</span>
					<a  style="padding-right:7px;" href="./details.html?md=gcam102">如何使用?</a>
					<a id='qq' class='qq' href='#'><img src='https://s11.ax1x.com/2024/01/03/pijs2i4.png'>加入QQ反馈群</a>
				</th>
			</thead>
			<thead>
				<th width="5%" nowrap>选择</th>
				<th width="25%" nowrap>配置名</th>
				<th width="25%" nowrap>作者</th>
				<th width="25%" nowrap>说明</th>
			</thead>
			<tbody>
				<script>
					var no=1;
					for(var i=0;i<data.length;i++){
						if(data[i]){
							var zz=getZuoZe(data[i]);
							if(i>0){
								document.writeln(
								tempTr.replaceAll("{url}",data[i].u)
								.replaceAll("{no}",no++)
								.replaceAll("{zz}",zz)
								.replaceAll("{name}",data[i].n)
								.replaceAll("{note}",data[i].note||'无') )
							}else{
								document.writeln(
								tempTr.replaceAll("<input type='checkbox' name='ck' data='{url}'>","")
								.replaceAll("{no}",'<a href="'+data[i].u+'"><font size=1>下载</font></a>')
								.replaceAll("{zz}",zz)
								.replaceAll("{name}",data[i].n)
								.replaceAll("{note}",data[i].note||'无') )
							}
						}
					}
				</script>
			</tbody>
		</table>
	</body>
</html>